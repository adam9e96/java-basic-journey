# ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì—…ìºìŠ¤íŒ… ë‹¤ìš´ ìºìŠ¤íŒ… ì‚¬ë¡€

## 1. ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ê°œë°œ (ì—…ìºìŠ¤íŒ…)

ì‹¤ë¬´ì—ì„  ë³´í†µ **ë¶€ëª¨ íƒ€ì…(ì¸í„°í˜ì´ìŠ¤/ì¶”ìƒ í´ë˜ìŠ¤)** ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œê³ , ì‹¤ì œ ë™ì‘ì€ ìì‹ í´ë˜ìŠ¤(êµ¬í˜„ì²´)ê°€ ë‹´ë‹¹í•´.
ì˜ˆë¥¼ ë“¤ì–´ **DAO íŒ¨í„´**:

```java
// ë¶€ëª¨ ì¸í„°í˜ì´ìŠ¤
public interface UserRepository {
    User findById(Long id);
    void save(User user);
}

// ìì‹ êµ¬í˜„ì²´ (DB ì—°ë™)
public class MySQLUserRepository implements UserRepository {
    @Override
    public User findById(Long id) {
        System.out.println("MySQLì—ì„œ ì¡°íšŒ");
        return new User(id, "adam");
    }
    @Override
    public void save(User user) {
        System.out.println("MySQLì— ì €ì¥: " + user.getName());
    }
}

// ìì‹ êµ¬í˜„ì²´ (ë©”ëª¨ë¦¬ ì €ì¥)
public class MemoryUserRepository implements UserRepository {
    private Map<Long, User> store = new HashMap<>();
    @Override
    public User findById(Long id) {
        return store.get(id);
    }
    @Override
    public void save(User user) {
        store.put(user.getId(), user);
    }
}

// ì„œë¹„ìŠ¤ ì½”ë“œ (ì—…ìºìŠ¤íŒ… í™œìš©)
public class UserService {
    private final UserRepository repository;

    // ì—…ìºìŠ¤íŒ…: êµ¬ì²´ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤(UserRepository) ê¸°ì¤€ìœ¼ë¡œ ë°›ìŒ
    public UserService(UserRepository repository) {
        this.repository = repository;
    }

    public void registerUser(User user) {
        repository.save(user);
    }
}
```

ğŸ‘‰ ì´ë ‡ê²Œ í•˜ë©´ `UserService`ëŠ” DBê°€ MySQLì¸ì§€, ë©”ëª¨ë¦¬ì¸ì§€ ëª°ë¼ë„ ë¨.
ì‹¤ë¬´ì—ì„œ **DI(ì˜ì¡´ì„± ì£¼ì…)** í•  ë•Œë„ ë‹¤ ì—…ìºìŠ¤íŒ… ê°œë…ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê±°ì•¼.

---

## 2. ì´ë²¤íŠ¸ ì²˜ë¦¬ (ì—…ìºìŠ¤íŒ… + ë‹¤ìš´ìºìŠ¤íŒ…)

GUIë‚˜ Spring MVC ê°™ì€ ê³³ì—ì„ , ë³´í†µ **ë¶€ëª¨ íƒ€ì… ì´ë²¤íŠ¸**ë¥¼ ë°›ê³  í•„ìš”í•  ë•Œë§Œ ë‹¤ìš´ìºìŠ¤íŒ…í•œë‹¤.

```java
public class EventHandler {
    public void handle(Event e) {
        if (e instanceof MouseEvent) {
            MouseEvent me = (MouseEvent) e;  // ë‹¤ìš´ìºìŠ¤íŒ…
            System.out.println("ë§ˆìš°ìŠ¤ í´ë¦­ ì¢Œí‘œ: " + me.getX() + ", " + me.getY());
        } else if (e instanceof KeyEvent) {
            KeyEvent ke = (KeyEvent) e;      // ë‹¤ìš´ìºìŠ¤íŒ…
            System.out.println("ì…ë ¥ëœ í‚¤: " + ke.getKeyChar());
        }
    }
}
```

ğŸ‘‰ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” `Event`ë¼ëŠ” **ë¶€ëª¨ íƒ€ì…**ì„ ê¸°ì¤€ìœ¼ë¡œ ë°›ê³ , í•„ìš”í•  ë•Œë§Œ ìì‹ íƒ€ì…ìœ¼ë¡œ **ë‹¤ìš´ìºìŠ¤íŒ…** í•´ì„œ ìƒì„¸ ì²˜ë¦¬.
ì´ëŸ° êµ¬ì¡°ê°€ Swing, AWT, Spring DispatcherServlet ê°™ì€ ê³³ì—ì„œ ë‹¤ ì“°ì¸ë‹¤.

---

## 3. ì»¬ë ‰ì…˜ê³¼ ë‹¤í˜•ì„± (ì—…ìºìŠ¤íŒ… í™œìš©)

Spring Bootì—ì„œ ì„œë¹„ìŠ¤ ê°ì²´ë“¤ì„ í•œ ë²ˆì— ê´€ë¦¬í•˜ëŠ” ê²½ìš°:

```java
public interface Payment {
    void pay(int amount);
}

public class KakaoPay implements Payment {
    @Override
    public void pay(int amount) {
        System.out.println("ì¹´ì¹´ì˜¤í˜ì´ë¡œ " + amount + "ì› ê²°ì œ");
    }
}

public class CreditCard implements Payment {
    @Override
    public void pay(int amount) {
        System.out.println("ì‹ ìš©ì¹´ë“œë¡œ " + amount + "ì› ê²°ì œ");
    }
}

public class PaymentProcessor {
    private final List<Payment> payments;

    // ì—¬ëŸ¬ ê²°ì œìˆ˜ë‹¨ì„ ì—…ìºìŠ¤íŒ…í•´ì„œ í•œ ì»¬ë ‰ì…˜ì— ë‹´ìŒ
    public PaymentProcessor(List<Payment> payments) {
        this.payments = payments;
    }

    public void processAll(int amount) {
        for (Payment p : payments) {
            p.pay(amount);  // ë‹¤í˜•ì„± ì ìš©
        }
    }
}
```

ğŸ‘‰ `PaymentProcessor`ëŠ” **ì—…ìºìŠ¤íŒ…** ë•ë¶„ì— ê²°ì œìˆ˜ë‹¨ì´ ëŠ˜ì–´ë‚˜ë„ ì½”ë“œ ìˆ˜ì • ì—†ì´ ê·¸ëŒ€ë¡œ ì‘ë™í•¨.

---

## 4. ë‹¤ìš´ìºìŠ¤íŒ… ì‹¤ë¬´ì  ì¼€ì´ìŠ¤ (íŠ¹ìˆ˜ ê¸°ëŠ¥ ì ‘ê·¼)

ë³´í†µì€ ì—…ìºìŠ¤íŒ…ìœ¼ë¡œ ì¶©ë¶„í•œë°, **íŠ¹ì • êµ¬í˜„ì²´ ê¸°ëŠ¥ì´ í•„ìš”í•  ë•Œë§Œ** ë‹¤ìš´ìºìŠ¤íŒ…í•´.

ì˜ˆ: JDBCì—ì„œ `Connection` ì€ ì¸í„°í˜ì´ìŠ¤ì§€ë§Œ, íŠ¹ì • DBì˜ ê³ ê¸‰ ê¸°ëŠ¥ì„ ì“°ê³  ì‹¶ì„ ë•Œ.

```java
Connection conn = dataSource.getConnection();

// í‘œì¤€ JDBC ë©”ì„œë“œ (ì—…ìºìŠ¤íŒ… ìƒíƒœ)
conn.prepareStatement("SELECT * FROM users");

// íŠ¹ì • êµ¬í˜„ì²´ ê¸°ëŠ¥ (ë‹¤ìš´ìºìŠ¤íŒ… í•„ìš”)
if (conn.isWrapperFor(com.mysql.cj.jdbc.JdbcConnection.class)) {
    com.mysql.cj.jdbc.JdbcConnection mysqlConn = 
        conn.unwrap(com.mysql.cj.jdbc.JdbcConnection.class);
    mysqlConn.abortInternal(); // MySQL ì „ìš© ê¸°ëŠ¥
}
```

ğŸ‘‰ ë‹¤ìš´ìºìŠ¤íŒ…ì€ ì´ë ‡ê²Œ **í‘œì¤€ APIì— ì—†ëŠ” íŠ¹ìˆ˜ ê¸°ëŠ¥**ì„ ì“°ê³  ì‹¶ì„ ë•Œ ì œí•œì ìœ¼ë¡œ í™œìš©í•´.

---

ğŸ“Œ ì •ë¦¬:

* **ì—…ìºìŠ¤íŒ…** â†’ ì‹¤ë¬´ ëŒ€ë¶€ë¶„ì—ì„œ ì“°ì„ (ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ê°œë°œ, ë‹¤í˜•ì„±, DI, ì»¬ë ‰ì…˜ ê´€ë¦¬)
* **ë‹¤ìš´ìºìŠ¤íŒ…** â†’ ê°€ë” í•„ìš”í•  ë•Œë§Œ (íŠ¹ì • êµ¬í˜„ì²´ ê¸°ëŠ¥, ì´ë²¤íŠ¸ ìƒì„¸ ì²˜ë¦¬ ë“±)

ì •í™•íˆ ì´í•´í–ˆì–´ ğŸ‘
ë„¤ê°€ ì •ë¦¬í•œ ê²Œ ë°”ë¡œ í•µì‹¬ì´ì•¼.

---

## âœ… ì—…ìºìŠ¤íŒ…

* **ì‹¤í–‰ë¶€(ë©”ì¸, ì„œë¹„ìŠ¤, ì»¨íŠ¸ë¡¤ëŸ¬ ë“±)** ì—ì„œëŠ” ë¶€ëª¨ íƒ€ì…ë§Œ ì˜ì¡´.
* **êµ¬í˜„ì²´ ì„ íƒ**ì€ ì£¼ì…(DI) ë‹¨ê³„ì—ì„œë§Œ ë°”ê¿”ì£¼ë©´ ë¨.
* ë”°ë¼ì„œ ì‹¤í–‰ë¶€ ì½”ë“œëŠ” ì†ëŒ€ì§€ ì•Šê³ ë„ ê¸°ëŠ¥ êµì²´ ê°€ëŠ¥ â†’ **ìœ ì—°ì„±, í™•ì¥ì„±** í™•ë³´.

ğŸ‘‰ ì‹¤ë¬´ì—ì„œ Spring ê°™ì€ í”„ë ˆì„ì›Œí¬ê°€ ì´ê±¸ ì „ì œë¡œ ëŒì•„ê°.

```java
Payment payment = new KakaoPay();   // ì—…ìºìŠ¤íŒ…
payment.pay(1000);
```

ë‚˜ì¤‘ì— `CreditCard`ë¡œ ê°ˆì•„íƒ€ë„ `payment.pay(1000)` ë¡œì§ì€ ê·¸ëŒ€ë¡œ ìœ ì§€.

---

## âœ… ë‹¤ìš´ìºìŠ¤íŒ…

* ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì‹¤í–‰í•˜ë˜ ì¤‘, **ìì‹ í´ë˜ìŠ¤ ì „ìš© ê¸°ëŠ¥**ì´ í•„ìš”í•  ë•Œ ê°•ì œë¡œ ìºìŠ¤íŒ….
* í•˜ì§€ë§Œ ì´ê±´ ì„¤ê³„ì ìœ¼ë¡œëŠ” ê¶Œì¥ë˜ì§€ ì•Šê³ , â€œì •ë§ ìì‹ë§Œì˜ ê¸°ëŠ¥â€ì´ í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©.

```java
Payment payment = new KakaoPay();   // ì—…ìºìŠ¤íŒ…

if (payment instanceof KakaoPay) {
    KakaoPay kakao = (KakaoPay) payment; // ë‹¤ìš´ìºìŠ¤íŒ…
    kakao.refund(500);   // KakaoPayë§Œì˜ ê¸°ëŠ¥
}
```

* ì—…ìºìŠ¤íŒ…ì€ **ë©”ì¸ ë¡œì§ ë³€ê²½ ì—†ì´ êµ¬í˜„ì²´ êµì²´ ê°€ëŠ¥**
* ë‹¤ìš´ìºìŠ¤íŒ…ì€ **ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì“°ë˜ ê°ì²´ì—ì„œ ìì‹ ê³ ìœ  ê¸°ëŠ¥ì„ ì“¸ ë•Œ**